:3000 {
    # API and WebSocket routes go to the Gleam backend
    reverse_proxy /api/* app:8000
    reverse_proxy /ws/* app:8000

    # Everything else (static assets and SPA routes) served by Gleam server
    reverse_proxy /* app:8000

    # Enable CORS headers for development
    header {
        Access-Control-Allow-Origin *
        Access-Control-Allow-Methods *
        Access-Control-Allow-Headers *
    }
}
